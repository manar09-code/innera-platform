<div class="profile-container">
  <!-- Header/Background Section -->
  <div class="profile-header" [style.background-image]="backgroundImage">
    <div class="profile-picture">
      {{ profilePicture }}
    </div>
    <h1 class="community-name">{{ communityName }}</h1>
  </div>

  <!-- Main Content -->
  <div class="profile-content">
    <!-- User Info Section (Center) -->
    <div class="user-info">
      <div class="info-item">
        <label>Username:</label>
        <span *ngIf="!editingUsername">{{ userName }}</span>
        <input *ngIf="editingUsername" [(ngModel)]="tempUsername" type="text" />
        <button *ngIf="!editingUsername" (click)="startEdit('Username')">Edit</button>
        <button *ngIf="editingUsername" (click)="saveEdit('Username')">Save</button>
        <button *ngIf="editingUsername" (click)="cancelEdit('Username')">Cancel</button>
      </div>

      <div class="info-item">
        <label>Email:</label>
        <span *ngIf="!editingEmail">{{ userEmail }}</span>
        <input *ngIf="editingEmail" [(ngModel)]="tempEmail" type="email" />
        <button *ngIf="!editingEmail" (click)="startEdit('Email')">Edit</button>
        <button *ngIf="editingEmail" (click)="saveEdit('Email')">Save</button>
        <button *ngIf="editingEmail" (click)="cancelEdit('Email')">Cancel</button>
      </div>

      <div class="info-item">
        <label>Community:</label>
        <span *ngIf="!editingCommunity">{{ communityName }}</span>
        <input *ngIf="editingCommunity" [(ngModel)]="tempCommunity" type="text" />
        <button *ngIf="!editingCommunity" (click)="startEdit('Community')">Edit</button>
        <button *ngIf="editingCommunity" (click)="saveEdit('Community')">Save</button>
        <button *ngIf="editingCommunity" (click)="cancelEdit('Community')">Cancel</button>
      </div>

      <div class="info-item">
        <label>Password:</label>
        <span *ngIf="!editingPassword">{{ userPassword }}</span>
        <input *ngIf="editingPassword" [(ngModel)]="tempPassword" type="password" />
        <button *ngIf="!editingPassword" (click)="startEdit('Password')">Edit</button>
        <button *ngIf="editingPassword" (click)="saveEdit('Password')">Save</button>
        <button *ngIf="editingPassword" (click)="cancelEdit('Password')">Cancel</button>
      </div>

      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>

    <!-- Right Sidebar -->
    <div class="right-sidebar">
      <a href="#" (click)="$event.preventDefault(); navigateToHistory()" class="history-link"
        >History</a
      >
      <a
        *ngIf="isAdmin"
        href="#"
        (click)="$event.preventDefault(); navigateToStats()"
        class="stats-link"
        >Stats</a
      >
      <a
        *ngIf="isAdmin"
        href="#"
        (click)="$event.preventDefault(); navigateToDashboard()"
        class="dashboard-link"
        >Dashboard</a
      >
    </div>
  </div>

  <!-- Bottom Section -->
  <div class="bottom-section">
    <div class="stats-item">
      <h3>Number of Likes</h3>
      <p>{{ userLikes.length }}</p>
    </div>
    <div class="stats-item">
      <h3>Number of Comments</h3>
      <p>{{ userComments.length }}</p>
    </div>
    <div class="stats-item">
      <h3>Number of Posts</h3>
      <p>{{ userPosts.length }}</p>
    </div>
  </div>
</div>
