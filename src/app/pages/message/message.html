<div class="message-wrapper">
  <div class="message-header">
    <button class="btn-back" (click)="goBack()">{{ 'BACK' | translate }}</button>
    <h1 class="page-title">{{ 'MESSAGES' | translate }}</h1>
  </div>

  <div class="message-container">
    <div class="chat-interface">
      <div class="messages-list">
        @for (msg of messages; track msg) {
          <div class="message" [class.sent]="msg.senderRole === 'user'"
            [class.received]="msg.senderRole === 'admin'">
            <div class="message-bubble">
              <p>{{ msg.content }}</p>
              <small>{{ msg.createdAt.toDate() | date:'short' }}</small>
            </div>
          </div>
        }
        @if (messages.length === 0) {
          <p class="no-messages">{{ 'NO_MESSAGES' | translate }}</p>
        }
      </div>

      <div class="input-area">
        <textarea [(ngModel)]="createMessageContent" placeholder="{{ 'WRITE_MESSAGE_TO_ADMIN' | translate }}..."
        rows="3" class="message-input"></textarea>
        <button (click)="sendMessage()" [disabled]="!createMessageContent.trim()" class="send-button">
          {{ 'SEND' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>